<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>工厂模式 | Jenna233</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="description" content="工厂模式工厂模式分为  简单(静态)工厂 工厂方法 抽象工厂  下面分别介绍这几总工厂模式 简单工厂 (静态工厂)简单工厂模式其实并不算是一种设计模式，更多的时候是一种编程习惯。定义定义一个工厂类，根据传入的参数不同返回不同的实例，被创建的实例具有共同的父类或接口。适用场景首先由于只有一个工厂类，所以工厂类中创建的对象不能太多，否则工厂类的业务逻辑就太复杂了，其次由于工厂类封装了对象的创建过程，所">
<meta property="og:type" content="article">
<meta property="og:title" content="工厂模式">
<meta property="og:url" content="https://jenna233.github.io/2021/02/14/%E5%B7%A5%E5%8E%82%E6%A8%A1%E5%BC%8F/index.html">
<meta property="og:site_name" content="Jenna233">
<meta property="og:description" content="工厂模式工厂模式分为  简单(静态)工厂 工厂方法 抽象工厂  下面分别介绍这几总工厂模式 简单工厂 (静态工厂)简单工厂模式其实并不算是一种设计模式，更多的时候是一种编程习惯。定义定义一个工厂类，根据传入的参数不同返回不同的实例，被创建的实例具有共同的父类或接口。适用场景首先由于只有一个工厂类，所以工厂类中创建的对象不能太多，否则工厂类的业务逻辑就太复杂了，其次由于工厂类封装了对象的创建过程，所">
<meta property="og:locale">
<meta property="article:published_time" content="2021-02-14T07:26:20.000Z">
<meta property="article:modified_time" content="2021-02-14T07:26:45.689Z">
<meta property="article:author" content="Jenna233">
<meta property="article:tag" content="Java 设计模式">
<meta name="twitter:card" content="summary">
  
    <link rel="alternate" href="/atom.xml" title="Jenna233" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  
<link rel="stylesheet" href="/css/tocas.css">

  
<link rel="stylesheet" href="/css/animate.css">

  
<link rel="stylesheet" href="/css/style.css">

  <style type="text/css">
    a.title-link:hover{
        color: #34b2db !important;
    }

    a.title-link:active{
        color: #2075c1 !important;
    }

    #menu-color-id{
        background : #f7f7f7;
    }

    #menu-color-id a{
        color: #5a5a5a;
    }
  </style>
  
<script src="/js/tocas.js"></script>

  

<meta name="generator" content="Hexo 5.2.0"></head>

<body>
<!-- navigation -->

<div class="ts fluid basic link big menu" id="menu-color-id">

    <!-- ejs : align to post page or index page -->
        
            <div class="ts very narrow container">
        

        
            <a class="item" href="/">Home</a>
        
            <a class="item" href="/archives">Archives</a>
        
    </div>
</div>
<!-- the end of navigation -->

<!-- big bang title -->
<div class="ts padded horizontally fitted fluid slate" style="background-color: #f7f7f7;">
    <!-- ejs : align to post page or index page -->
    
        <div class="ts very narrow container">
    
        <!-- Title -->
        <h1 class="ts eleven wide column header be-center-h1">
            <span style="color: #404040;" id="big-title">Jenna233</span>
            <div class="sub header" id="slogan-bar" style=" margin-top: 15px; color: #404040;"></div>
        </h1>
        <!-- the end of title -->
    </div>
</div>
<!-- the end of big bang title -->


<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css">

<!-- main section -->
<div class="ts text container">
        <!-- left section -->
        <div class="column" style=" padding: 35px; ">
            <!-- Articles -->
                
                <h1 class="ts header">
                    <span style="color: #333;">工厂模式</span>
                    <div class="sub header" style="color: #808080;">Publish: 2021/2/14 
                     &nbsp;&nbsp;
                        <ul class="unstyled radius-tag -list" itemprop="keywords"><li class="unstyled radius-tag -list-item"><a class="unstyled radius-tag -list-link" href="/tags/Java-%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/" rel="tag">Java 设计模式</a></li></ul>
                    
                    </div>
                </h1>

                <h4 id="工厂模式"><a href="#工厂模式" class="headerlink" title="工厂模式"></a>工厂模式</h4><p>工厂模式分为</p>
<ul>
<li>简单(静态)工厂</li>
<li>工厂方法</li>
<li>抽象工厂</li>
</ul>
<p>下面分别介绍这几总工厂模式</p>
<h4 id="简单工厂-静态工厂"><a href="#简单工厂-静态工厂" class="headerlink" title="简单工厂 (静态工厂)"></a>简单工厂 (静态工厂)</h4><p>简单工厂模式其实并不算是一种设计模式，更多的时候是一种编程习惯。<br><strong>定义</strong><br>定义一个工厂类，根据传入的参数不同返回不同的实例，被创建的实例具有共同的父类或接口。<br><strong>适用场景</strong><br>首先由于只有一个工厂类，所以工厂类中创建的对象不能太多，否则工厂类的业务逻辑就太复杂了，其次由于工厂类封装了对象的创建过程，所以客户端应该不关心对象的创建。总结一下适用场景：　　</p>
<ol>
<li>需要创建的对象较少。　　</li>
<li>客户端不关心对象的创建过程。</li>
</ol>
<p>以上就是简单工厂模式简单工厂模式的适用场景，下面看一个具体的实例。对于需要新增的类，我们就需要改变代码，这是简单工厂的一个不足之处。</p>
<p><strong>实例</strong><br>创建一个可以绘制不同形状的绘图工具，可以绘制圆形，正方形，三角形，每个图形都会有一个draw()方法用于绘图，不看代码先考虑一下如何通过该模式设计完成此功能。<br>圆形，正方形，三角形都属于一种图形，并且都具有draw方法，所以首先可以定义一个接口或者抽象类，作为这三个图像的公共父类，并在其中声明一个公共的draw方法</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">public interface Shape &#123;</span><br><span class="line">    void draw();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>圆形：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">public class CircleShape implements Shape &#123;</span><br><span class="line"></span><br><span class="line">    public CircleShape() &#123;</span><br><span class="line">        System.out.println(  &quot;CircleShape: created&quot;);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    @Override</span><br><span class="line">    public void draw() &#123;</span><br><span class="line">        System.out.println(  &quot;draw: CircleShape&quot;);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>正方形：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">public class RectShape implements Shape &#123;</span><br><span class="line">    public RectShape() &#123;</span><br><span class="line">       System.out.println(  &quot;RectShape: created&quot;);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    @Override</span><br><span class="line">    public void draw() &#123;</span><br><span class="line">       System.out.println(  &quot;draw: RectShape&quot;);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>三角形：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">public class TriangleShape implements Shape &#123;</span><br><span class="line"></span><br><span class="line">    public TriangleShape() &#123;</span><br><span class="line">        System.out.println(  &quot;TriangleShape: created&quot;);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    @Override</span><br><span class="line">    public void draw() &#123;</span><br><span class="line">        System.out.println(  &quot;draw: TriangleShape&quot;);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>工厂类实现：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">public class ShapeFactory &#123;</span><br><span class="line">         public static final String TAG &#x3D; &quot;ShapeFactory&quot;;</span><br><span class="line">         public static Shape getShape(String type) &#123;</span><br><span class="line">             Shape shape &#x3D; null;</span><br><span class="line">             if (type.equalsIgnoreCase(&quot;circle&quot;)) &#123;</span><br><span class="line">                 shape &#x3D; new CircleShape();</span><br><span class="line">             &#125; else if (type.equalsIgnoreCase(&quot;rect&quot;)) &#123;</span><br><span class="line">                 shape &#x3D; new RectShape();</span><br><span class="line">             &#125; else if (type.equalsIgnoreCase(&quot;triangle&quot;)) &#123;</span><br><span class="line">                 shape &#x3D; new TriangleShape();</span><br><span class="line">             &#125;</span><br><span class="line">             return shape;</span><br><span class="line">         &#125;</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>

<p>如何使用工厂类：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F;画圆形</span><br><span class="line">Shape shape&#x3D; ShapeFactory.getShape(&quot;circle&quot;);</span><br><span class="line">shape.draw();</span><br><span class="line">&#x2F;&#x2F;画方形</span><br><span class="line">Shape shape&#x3D; ShapeFactory.getShape(&quot;rect&quot;);</span><br><span class="line">shape.draw();</span><br><span class="line">&#x2F;&#x2F;画三角形</span><br><span class="line">Shape shape&#x3D; ShapeFactory.getShape(&quot;triangle&quot;);</span><br><span class="line">shape.draw();</span><br></pre></td></tr></table></figure>




<h4 id="工厂方法"><a href="#工厂方法" class="headerlink" title="工厂方法"></a>工厂方法</h4><p>工厂方法模式是简单工厂的仅一步深化， 在工厂方法模式中，我们不再提供一个统一的工厂类来创建所有的对象，而是针对不同的对象提供不同的工厂。也就是说每个对象都有一个与之对应的工厂。<br><strong>定义</strong>　　<br>定义一个用于创建对象的接口，让子类决定将哪一个类实例化。工厂方法模式让一个类的实例化延迟到其子类。　<br><strong>适用场景</strong></p>
<ul>
<li>客户端不需要知道它所创建的对象的类。例子中我们不知道每个宠物具体叫什么名，只知道创建它的工厂名就完成了创建过程。</li>
<li>客户端可以通过子类来指定创建对应的对象。</li>
</ul>
<p>以上场景使用于采用工厂方法模式。<br>比如在一家宠物店，里面有各种各样的宠物，构建宠物的工厂：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; 号称什么宠物都有</span><br><span class="line">public interface AnimalFactory &#123;</span><br><span class="line"></span><br><span class="line">	&#x2F;&#x2F; 可以获取任何的宠物</span><br><span class="line">	Animal createAnimal();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>主流的宠物，构建猫和狗的工厂(继承着所有宠物的工厂),<br>猫工厂：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; 继承着宠物工厂</span><br><span class="line">public class CatFactory implements AnimalFactory &#123;</span><br><span class="line">    @Override</span><br><span class="line">    &#x2F;&#x2F; 创建猫</span><br><span class="line">    public Animal createAnimal() &#123;</span><br><span class="line">        return new Cat();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>狗工厂：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; 继承着宠物工厂</span><br><span class="line">public class DogFactory implements AnimalFactory &#123;</span><br><span class="line"></span><br><span class="line">	&#x2F;&#x2F; 创建狗</span><br><span class="line">	@Override</span><br><span class="line">	public Animal createAnimal() &#123;</span><br><span class="line">		return new Dog();</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>嗯，还有我们的实体类：猫、狗、动物(多态：猫和狗都是动物，可以直接用动物来表示了)</p>
<p>动物实体类：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">public abstract class Animal &#123;</span><br><span class="line"></span><br><span class="line">	&#x2F;&#x2F; 所有的动物都会吃东西</span><br><span class="line">	public abstract void eat();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>猫实体类：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">public class Cat extends Animal &#123;</span><br><span class="line">	</span><br><span class="line">	&#x2F;&#x2F; 猫喜欢吃鱼</span><br><span class="line">	@Override</span><br><span class="line">	public void eat() &#123;</span><br><span class="line">		System.out.println(&quot;猫吃鱼&quot;);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>狗实体类：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">public class Dog extends Animal &#123;</span><br><span class="line"></span><br><span class="line">	&#x2F;&#x2F; 狗喜欢吃肉</span><br><span class="line">	@Override</span><br><span class="line">	public void eat() &#123;</span><br><span class="line">		System.out.println(&quot;狗吃肉&quot;);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>跟宠物店老板说想要一只狗，宠物店老板就去找狗回来了：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; 去找狗工厂拿一只狗过来</span><br><span class="line">AnimalFactory f &#x3D; new DogFactory();</span><br><span class="line">Animal a &#x3D; f.createAnimal();</span><br><span class="line">a.eat();</span><br></pre></td></tr></table></figure>
<p>想要猫：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; 去找猫工厂拿一只猫过来</span><br><span class="line">AnimalFactory ff &#x3D; new CatFactory();</span><br><span class="line">Animal aa &#x3D; ff.createAnimal();</span><br><span class="line">aa.eat();</span><br></pre></td></tr></table></figure>
<p>如果想要一只蜥蜴呢？那就需要创建蜥蜴类和蜥蜴工厂类了：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; 要买蜥蜴..</span><br><span class="line">AnimalFactory fff &#x3D; new LizardFactory();</span><br><span class="line">Animal aaa &#x3D; ff.createAnimal();</span><br><span class="line">aaa.eat();</span><br></pre></td></tr></table></figure>

<p>综上，工厂方法的优缺点</p>
<p><strong>优点:</strong></p>
<ul>
<li>客户端不需要在负责对象的创建,明确了各个类的职责</li>
<li>如果有新的对象增加,只需要增加一个具体的类和具体的工厂类即可</li>
<li>不会影响已有的代码,后期维护容易,增强系统的扩展性</li>
</ul>
<p><strong>缺点:</strong></p>
<ul>
<li>需要额外的编写代码,增加了工作量</li>
</ul>
<h4 id="抽象工厂"><a href="#抽象工厂" class="headerlink" title="抽象工厂"></a>抽象工厂</h4><p>这个模式最不好理解，而且在实际应用中局限性也蛮大的，因为这个模式并不符合开闭原则。实际开发还需要做好权衡。　　<br>抽象工厂模式是工厂方法的仅一步深化，在这个模式中的工厂类不单单可以创建一个对象，而是可以创建一组对象。这是和工厂方法最大的不同点。<br><strong>定义</strong>　　<br>提供一个创建一系列相关或相互依赖对象的接口，而无须指定它们具体的类。（ 在抽象工厂模式中，每一个具体工厂都提供了多个工厂方法用于产生多种不同类型的对象）　　</p>
<p>抽象工厂和工厂方法一样可以划分为4大部分：</p>
<ul>
<li>AbstractFactory（抽象工厂）声明了一组用于创建对象的方法，注意是一组。</li>
<li>ConcreteFactory（具体工厂）：它实现了在抽象工厂中声明的创建对象的方法，生成一组具体对象。                    </li>
<li>AbstractProduct（抽象产品）：它为每种对象声明接口，在其中声明了对象所具有的业务方法。</li>
<li>ConcreteProduct（具体产品）：它定义具体工厂生产的具体对象。下面还是先看一个具体实例。</li>
</ul>
<p>现在需要做一款跨平台的游戏，需要兼容Android，Ios，Wp三个移动操作系统，该游戏针对每个系统都设计了一套操作控制器（OperationController）和界面控制器（UIController），下面通过抽闲工厂方式完成这款游戏的架构设计。<br>由题可知，游戏里边的各个平台的UIController和OperationController应该是我们最终生产的具体产品。所以新建两个抽象产品接口。<br>操作控制器：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">public interface OperationController &#123;</span><br><span class="line">    void control();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>界面控制器</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">public interface UIController &#123;</span><br><span class="line">    void display();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>然后完成各个系统平台的具体操作控制器和界面控制器<br>Android:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">public class AndroidOperationController implements OperationController &#123;</span><br><span class="line">    @Override</span><br><span class="line">    public void control() &#123;</span><br><span class="line">        System.out.println(&quot;AndroidOperationController&quot;);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">public class AndroidUIController implements UIController &#123;</span><br><span class="line">    @Override</span><br><span class="line">    public void display() &#123;</span><br><span class="line">        System.out.println(&quot;AndroidInterfaceController&quot;);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>IOS:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">public class IosOperationController implements OperationController &#123;</span><br><span class="line">    @Override</span><br><span class="line">    public void control() &#123;</span><br><span class="line">        System.out.println(&quot;IosOperationController&quot;);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">public class IosUIController implements UIController &#123;</span><br><span class="line">    @Override</span><br><span class="line">    public void display() &#123;</span><br><span class="line">        System.out.println(&quot;IosInterfaceController&quot;);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Wp：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">public class WpOperationController implements OperationController &#123;</span><br><span class="line">    @Override</span><br><span class="line">    public void control() &#123;</span><br><span class="line">        System.out.println(&quot;WpOperationController&quot;);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">public class WpUIController implements UIController &#123;</span><br><span class="line">    @Override</span><br><span class="line">    public void display() &#123;</span><br><span class="line">        System.out.println(&quot;WpInterfaceController&quot;);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>下面定义一个抽象工厂，该工厂需要可以创建OperationController和UIController</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">public interface SystemFactory &#123;</span><br><span class="line">    public OperationController createOperationController();</span><br><span class="line">    public UIController createInterfaceController();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>在各平台具体的工厂类中完成操作控制器和界面控制器的创建过程<br>Android:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">public class AndroidFactory implements SystemFactory &#123;</span><br><span class="line">    @Override</span><br><span class="line">    public OperationController createOperationController() &#123;</span><br><span class="line">        return new AndroidOperationController();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    @Override</span><br><span class="line">    public UIController createInterfaceController() &#123;</span><br><span class="line">        return new AndroidUIController();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>IOS:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">public class IosFactory implements SystemFactory &#123;</span><br><span class="line">    @Override</span><br><span class="line">    public OperationController createOperationController() &#123;</span><br><span class="line">        return new IosOperationController();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    @Override</span><br><span class="line">    public UIController createInterfaceController() &#123;</span><br><span class="line">        return new IosUIController();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Wp:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">public class WpFactory implements SystemFactory &#123;</span><br><span class="line">    @Override</span><br><span class="line">    public OperationController createOperationController() &#123;</span><br><span class="line">        return new WpOperationController();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    @Override</span><br><span class="line">    public UIController createInterfaceController() &#123;</span><br><span class="line">        return new WpUIController();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>客户端调用：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">SystemFactory mFactory;</span><br><span class="line">UIController interfaceController;</span><br><span class="line">OperationController operationController;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;Android</span><br><span class="line">mFactory&#x3D;new AndroidFactory();</span><br><span class="line">&#x2F;&#x2F;Ios</span><br><span class="line">mFactory&#x3D;new IosFactory();</span><br><span class="line">&#x2F;&#x2F;Wp</span><br><span class="line">mFactory&#x3D;new WpFactory();</span><br><span class="line"></span><br><span class="line">interfaceController&#x3D;mFactory.createInterfaceController();</span><br><span class="line">operationController&#x3D;mFactory.createOperationController();</span><br><span class="line">interfaceController.display();</span><br><span class="line">operationController.control();</span><br></pre></td></tr></table></figure>
<p>针对不同平台只通过创建不同的工厂对象就完成了操作和UI控制器的创建。小伙伴们可以对比一下，如果这个游戏使用工厂方法模式搭建需要创建多少个工厂类呢？下面总结一下抽象工厂的适用场景。</p>
<p><strong>适用场景</strong></p>
<ul>
<li>和工厂方法一样客户端不需要知道它所创建的对象的类。</li>
<li>需要一组对象共同完成某种功能时。并且可能存在多组对象完成不同功能的情况。</li>
<li>系统结构稳定，不会频繁的增加对象。（因为一旦增加就需要修改原有代码，不符合开闭原则）</li>
</ul>
<p>以上就是三种工厂模式的总结，如有不对之处还希望各位留言指正，以免误导他人。</p>
<h1 id="参考链接"><a href="#参考链接" class="headerlink" title="参考链接"></a>参考链接</h1><ul>
<li><a target="_blank" rel="noopener" href="https://juejin.cn/post/6844903474639929357">工厂模式——看这一篇就够了</a></li>
<li><a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/37095996">工厂模式理解了没有</a></li>
</ul>

            <!-- / the end of articles -->
        </div>
        <!-- / left section -->
        
        
            <hr/>
            <div id="disqus_thread" style=" margin-top: 15px; margin-bottom: 25px; "></div>
            <script>
                /**
                *  RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
                *  LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables*/
                /*
                var disqus_config = function () {
                this.page.url = PAGE_URL;  // Replace PAGE_URL with your page's canonical URL variable
                this.page.identifier = PAGE_IDENTIFIER; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
                };
                */
                (function() { // DON'T EDIT BELOW THIS LINE
                var d = document, s = d.createElement('script');
                s.src = 'https://morgan-hexo-theme.disqus.com/embed.js';
                s.setAttribute('data-timestamp', +new Date());
                (d.head || d.body).appendChild(s);
                })();
            </script>
            <noscript>Please enable JavaScript to view the <a target="_blank" rel="noopener" href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
        

        <!-- Next Post and Prev Post -->
        
        <hr/>
        <div class="next-prev-post-section">
            
                <a href="/2021/02/14/%E4%BA%AB%E5%85%83%E6%A8%A1%E5%BC%8F/" class="styled-border">
                    ←
                    享元模式
                    
                </a>
            
            
                <a href="/2021/02/14/%E5%8D%95%E4%BE%8B%E6%A8%A1%E5%BC%8F/" class="styled-border">
                    
                    单例模式
                    →
                </a>
            
        </div>
        
</div>
<script type="text/javascript">
    let img = document.getElementsByTagName("img");
    for(let i = 0; i < img.length; i++){
        img[i].className += " ts fluid image";
    }
</script>
<!-- / main section -->

<!-- copyright -->
<div class="ts attached secondary segment">
    <div class="ts narrow container">
        <br>
        <div class="ts large center aligned header">
            Powered by Hexo, Theme designs by @hpcslag.
            <div class="smaller sub header">
                Style-Framework Tocas-UI designs by @yamioldmel 
            </div>
        </div>
        <br>
    </div>
</div>
<!-- / copyright -->
<script type="text/javascript">
    
    const slogans = ["Hallo, dit is mijn blog","嗨，這是我的博客!","안녕하세요, 제 블로그입니다.","Hi, This is my blog!","こんにちは、私のブログへようこそ!","مرحبا، مرحبا بك في مدونتي"];
</script>

<script src="/js/script.js"></script>

</body>
</html>