<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>如何做架构设计 | Jenna233</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="description" content="[转]如何做架构设计 首先要牢记一条：  “ 不存在一个适用于所有应用的完美架构 ”  如何去选择一个架构模式并不是首要之事，相较之下，搞清楚你想用架构解决什么问题更为重要。花一些时间去理解你所要解决的问题，这样可以帮助你聚焦于架构模式中能真正起作用的那些特性。踏实地按照以下步骤去操作，可以确保你设计的架构是有效的：  掌握代码库当前所处的状态 标识出你想要解决的问题或者想要优化的代码 评估不同的">
<meta property="og:type" content="article">
<meta property="og:title" content="如何做架构设计">
<meta property="og:url" content="https://jenna233.github.io/2022/09/11/%E5%A6%82%E4%BD%95%E5%81%9A%E6%9E%B6%E6%9E%84%E8%AE%BE%E8%AE%A1/index.html">
<meta property="og:site_name" content="Jenna233">
<meta property="og:description" content="[转]如何做架构设计 首先要牢记一条：  “ 不存在一个适用于所有应用的完美架构 ”  如何去选择一个架构模式并不是首要之事，相较之下，搞清楚你想用架构解决什么问题更为重要。花一些时间去理解你所要解决的问题，这样可以帮助你聚焦于架构模式中能真正起作用的那些特性。踏实地按照以下步骤去操作，可以确保你设计的架构是有效的：  掌握代码库当前所处的状态 标识出你想要解决的问题或者想要优化的代码 评估不同的">
<meta property="og:locale">
<meta property="article:published_time" content="2022-09-11T06:04:28.000Z">
<meta property="article:modified_time" content="2022-09-11T06:05:13.000Z">
<meta property="article:author" content="Jenna233">
<meta property="article:tag" content="架构">
<meta name="twitter:card" content="summary">
  
    <link rel="alternate" href="/atom.xml" title="Jenna233" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  
<link rel="stylesheet" href="/css/tocas.css">

  
<link rel="stylesheet" href="/css/animate.css">

  
<link rel="stylesheet" href="/css/style.css">

  <style type="text/css">
    a.title-link:hover{
        color: #34b2db !important;
    }

    a.title-link:active{
        color: #2075c1 !important;
    }

    #menu-color-id{
        background : #f7f7f7;
    }

    #menu-color-id a{
        color: #5a5a5a;
    }
  </style>
  
<script src="/js/tocas.js"></script>

  

<meta name="generator" content="Hexo 5.4.2"></head>

<body>
<!-- navigation -->

<div class="ts fluid basic link big menu" id="menu-color-id">

    <!-- ejs : align to post page or index page -->
        
            <div class="ts very narrow container">
        

        
            <a class="item" href="/">Home</a>
        
            <a class="item" href="/archives">Archives</a>
        
    </div>
</div>
<!-- the end of navigation -->

<!-- big bang title -->
<div class="ts padded horizontally fitted fluid slate" style="background-color: #f7f7f7;">
    <!-- ejs : align to post page or index page -->
    
        <div class="ts very narrow container">
    
        <!-- Title -->
        <h1 class="ts eleven wide column header be-center-h1">
            <span style="color: #404040;" id="big-title">Jenna233</span>
            <div class="sub header" id="slogan-bar" style=" margin-top: 15px; color: #404040;"></div>
        </h1>
        <!-- the end of title -->
    </div>
</div>
<!-- the end of big bang title -->


<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css">

<!-- main section -->
<div class="ts text container">
        <!-- left section -->
        <div class="column" style=" padding: 35px; ">
            <!-- Articles -->
                
                <h1 class="ts header">
                    <span style="color: #333;">如何做架构设计</span>
                    <div class="sub header" style="color: #808080;">Publish: 2022/9/11 
                     &nbsp;&nbsp;
                        <ul class="unstyled radius-tag -list" itemprop="keywords"><li class="unstyled radius-tag -list-item"><a class="unstyled radius-tag -list-link" href="/tags/%E6%9E%B6%E6%9E%84/" rel="tag">架构</a></li></ul>
                    
                    </div>
                </h1>

                <p>[转]<a target="_blank" rel="noopener" href="https://juejin.cn/post/6956851455999344670">如何做架构设计</a></p>
<p>首先要牢记一条：</p>
<blockquote>
<p>“ 不存在一个适用于所有应用的完美架构 ”</p>
</blockquote>
<p>如何去选择一个架构模式并不是首要之事，相较之下，搞清楚你想用架构解决什么问题更为重要。花一些时间去理解你所要解决的问题，这样可以帮助你聚焦于架构模式中能真正起作用的那些特性。踏实地按照以下步骤去操作，可以确保你设计的架构是有效的：</p>
<ul>
<li>掌握代码库当前所处的状态</li>
<li>标识出你想要解决的问题或者想要优化的代码</li>
<li>评估不同的架构模式</li>
<li>在做出选择前，先尝试其中一些模式看是否合适</li>
<li>为你的应用定义好架构基线，设立好相关的界限</li>
<li>回过头看你的架构是否可以有效地解决那些标识出来的问题</li>
<li>与时俱进，不断迭代和优化你的架构</li>
</ul>
<h4 id="定位问题"><a href="#定位问题" class="headerlink" title="定位问题"></a>定位问题</h4><p>通常好的架构设计实践所解决的问题主要有两个：<code>缓慢的研发效率</code>、<code>脆弱的代码质量</code>。当你遇到下面这些情况时，就会导致低效的低质：</p>
<ul>
<li>我能难读懂代码库中的代码</li>
<li>我改动代码有时会造成原有功能产生 bug</li>
<li>我的应用运行时表现地很脆弱</li>
<li>我的代码能难被复用</li>
<li>我的改动会导致大规模的代码重构</li>
<li>我的同事很难并行协同开发</li>
<li>我能难给代码写单元测试</li>
<li>我的团队很难把一个需求拆解成小的工作项</li>
<li>我的应用编译一次要很久</li>
</ul>
<p>导致这些问题的根本原因通常有两个：<code>强耦合</code>、<code>大类型</code>。<br><code>强耦合</code>指代码库中有大量的高度依赖代码，变量、类型、对象直接连接访问，缺少协议和接口，从而导致牵一发而动全身，读懂代码需要完全掌握所有依赖关系。<br><code>大类型</code>是指类、结构体、协议或枚举拥有很长的接口定义（属性和方法），对于开发者而言，在已有的类中加方法比重新设计一个类轻松地多，大类型应运而生，导致实现体也很长，问题也就接踵而至。</p>
<p>另外，好的架构可以帮助我们解耦，为应用增加灵活性，变得更敏捷。这样可以使我们快速响应技术和需求上的变化。当你面临如下情况时，就表示当前代码库不够敏捷：</p>
<ul>
<li>我发现自己被一种技术/实现束缚住了</li>
<li>我面临着在项目初期做出技术/实现上的重大抉择</li>
<li>我发现很难增加功能开关</li>
</ul>
<h4 id="架构选型"><a href="#架构选型" class="headerlink" title="架构选型"></a>架构选型</h4><p>当你定位了问题，接下来就是调研各种架构模式。好消息是，有大量的架构模式可供选择；坏消息是，有大量的架构模式可供选择。事实上，大多数模式彼此之间都非常相似。<strong>所以这里的建议是，可以先对你需要使用的特定领域中的架构模式进行分类，把设计思想上比较类似的模式归为一类，然后着重了解每一类中最具代表性的一个。</strong></p>
<p>当你对这些架构模式有了一定了解后，就该做出选择了。老实说，你选择哪种模式并不重要，重要的是你如何将这种模式<strong>付诸实践</strong>。因为大多数模式只是触及到表层，没有细化到每一层的定义，选择“正确的”架构并不能让你自动获得良好架构的代码库。决定使用哪种模式的最佳方法是在代码库中<strong>多尝试几种模式</strong>，这将为你提供关于该模式是否能满足需求的最宝贵信息。另外也不要忽略人的因素，团队有多大？成员的开发经验如何？他们的偏好？是否有时间限制？这些都要考虑进去。这里有一些问题可以帮助你做尝试和选择：</p>
<ul>
<li>你最终会产出很多样板代码吗？如果是，它们是否至少让代码更容易读懂？</li>
<li>你最终会产出很多只是把方法调用代理到其他对象的“空”文件吗？</li>
<li>这个模式是否很难被理解？</li>
<li>你需要进行多少重构才能应用该模式？</li>
<li>这个模式是否添加了很多新概念和词汇？</li>
<li>你是否需要导入一个库来应用该模式？</li>
</ul>
<p>这些问题并不代表是坏事，它们只是帮助你去思考。最后请记住，架构设计与其说是科学，不如说是一门艺术。请不断去实践、学习和创新。有很多好的架构方法，也有很多不是那么好的方法，但没有所谓正确的方法。</p>
<h4 id="付诸实践"><a href="#付诸实践" class="headerlink" title="付诸实践"></a>付诸实践</h4><p>每个模式都有各自不同的设计思路和细节，如何进行实践，你就起了决定性作用。这里再重复一次最重要的事：这是一门艺术。所以请放开你的想象力，不断去尝试、总结和学习。当然，在实践过程中，有一些我们需要普遍关注的东西，这里罗列了一些：</p>
<ul>
<li><code>解耦</code> 不管你使用哪种模式，请确保你的代码被分解成小的、松耦合的片段。</li>
<li><code>内聚</code> 确保你的类型具有高内聚性。如果你定义的小类型具有非常专一的职责，那就可能表现出高度的凝聚力。</li>
<li><code>模块</code> 确保你的应用被分解成多个模块。</li>
<li><code>依赖</code> 确保你使用了类似依赖注入 (Dependency Injection)、服务定位 (Service Locators) 等这样的模式来管理对象之间的依赖关系。</li>
</ul>
<p>最后，愿架构之神保佑，让这些年轻的架构师，把自己的艺术生命绽放在代码上。</p>

            <!-- / the end of articles -->
        </div>
        <!-- / left section -->
        
        
            <hr/>
            <div id="disqus_thread" style=" margin-top: 15px; margin-bottom: 25px; "></div>
            <script>
                /**
                *  RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
                *  LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables*/
                /*
                var disqus_config = function () {
                this.page.url = PAGE_URL;  // Replace PAGE_URL with your page's canonical URL variable
                this.page.identifier = PAGE_IDENTIFIER; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
                };
                */
                (function() { // DON'T EDIT BELOW THIS LINE
                var d = document, s = d.createElement('script');
                s.src = 'https://morgan-hexo-theme.disqus.com/embed.js';
                s.setAttribute('data-timestamp', +new Date());
                (d.head || d.body).appendChild(s);
                })();
            </script>
            <noscript>Please enable JavaScript to view the <a target="_blank" rel="noopener" href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
        

        <!-- Next Post and Prev Post -->
        
        <hr/>
        <div class="next-prev-post-section">
            
                <a href="/2022/09/11/%E6%88%91%E5%81%9A%E7%B3%BB%E7%BB%9F%E6%9E%B6%E6%9E%84%E7%9A%84%E4%B8%80%E4%BA%9B%E5%8E%9F%E5%88%99/" class="styled-border">
                    ←
                    我做系统架构的一些原则
                    
                </a>
            
            
                <a href="/2022/06/03/%E4%B8%80%E5%BC%A0%E5%9B%BE%E7%9C%8B%E6%87%82%E5%BC%80%E6%BA%90%E8%AE%B8%E5%8F%AF%E5%8D%8F%E8%AE%AE%EF%BC%8C%E5%BC%80%E6%BA%90%E8%AE%B8%E5%8F%AF%E8%AF%81GPL%E3%80%81BSD%E3%80%81MIT%E3%80%81Mozilla%E3%80%81Apache%E5%92%8CLGPL%E7%9A%84%E5%8C%BA%E5%88%AB/" class="styled-border">
                    
                    一张图看懂开源许可协议，开源许可证GPL、BSD、MIT、Mozilla、Apache和LGPL的区别
                    →
                </a>
            
        </div>
        
</div>
<script type="text/javascript">
    let img = document.getElementsByTagName("img");
    for(let i = 0; i < img.length; i++){
        img[i].className += " ts fluid image";
    }
</script>
<!-- / main section -->

<!-- copyright -->
<div class="ts attached secondary segment">
    <div class="ts narrow container">
        <br>
        <div class="ts large center aligned header">
            Powered by Hexo, Theme designs by @hpcslag.
            <div class="smaller sub header">
                Style-Framework Tocas-UI designs by @yamioldmel 
            </div>
        </div>
        <br>
    </div>
</div>
<!-- / copyright -->
<script type="text/javascript">
    
    const slogans = ["Hallo, dit is mijn blog","嗨，這是我的博客!","안녕하세요, 제 블로그입니다.","Hi, This is my blog!","こんにちは、私のブログへようこそ!","مرحبا، مرحبا بك في مدونتي"];
</script>

<script src="/js/script.js"></script>

</body>
</html>